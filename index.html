<html>
<head>
    <title>Navigation</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="prism.css">
    <style>
body{
    padding:0;
    margin:0;
    font-family:Verdana;
    font-size:.87em;
}
#banner div{
    background-color:#551a8b;
    color:#fff;
    height:22px;
    padding:10px 4.5%;
    margin-bottom:4px;
    font-size:larger;
}
#banner{
    border-bottom:5px solid #0000ee;
}
h2{
    font-weight:normal;
    margin:0.8% 0;
    clear:left;
}
#logo div{
    padding:4px 8px;
    box-shadow:3px 3px 5px #888888;
    color:rgba(145,87,117,1);
    font-size:12px; 
    border:2px solid rgba(118,118,118,1);
    border-radius:3px;
    display:inline-block;
    position:relative;
    left:60px;
    top:-10px;
    background:linear-gradient(#fff, rgb(228, 229, 240));
}
#logo{
    width:275px;
    margin:0 auto;
}
#logo h1{
    font-size:50px;
    margin:0 0 10px 0;
    font-weight:normal;
    font-family:'Times New Roman';
    text-decoration:underline;
    color:#0000ee;
}        
#logo img{
    width:60px;
    position:absolute;
    top:85px;
    margin-left:10px;
    display:block;
}
#content{
    margin:0 auto;
    max-width:900px;
    padding:0 1%;
}
div.plug{
    box-sizing:border-box;
    padding:0.8% 2% 2% 0;
}
p code{
    background-color:#fbecc5;;
    padding:.1% .3%;
}
code {
    font-family:Consolas;
    font-size:.9em;
}
div.app{
    overflow:hidden;
    border:0.1em solid rgba(16,16,16,0.5);
    border-radius:0.6%;
    margin-bottom:1%;
}
#route{
    width:17.5%;
    margin:0 0.4% 0 1.4%;
}
#app ul{
    width:63.15%;
    margin:0 auto;
    padding-top:3%;
}
#app li{
    padding:1.3%;
}
#app {
    border:0.1em solid rgba(16,16,16,0.5);
    padding:1.11%;
    border-radius:0.6%;
}
#app div div{
    font-size:1.2em;
}
#footer{
    clear:both;
    font-style:italic;
    padding-bottom:1%;
    width:55%;
    margin:0 auto;
}
@media (min-width:600px) {
    div.plug{
        float:left;
        width:33.33%;    
    }
    div.app{
        float:left;
        width:66.66%;
    }
    #app {
        margin-left:68.33%;
    }
}
    </style>
</head>
<body>
    <div id="banner"><div>Navigation</div></div>
    <div id="logo">
        <h1>Navigation</h1>
        <img alt="cursor hand" src="cursor.png" />
        <div>The data-first JavaScript router</div>
    </div>
    <div id="content">
        <div class="plug">
            <h2>Data First</h2>
            You don't know your routes until the end. Sort of hot loading for routing. Don't need to hot load,
            just need to leave them til the end. sdfjlsdkfjsd sld sdfj lsdkjf sdfs dlksdlfepowrtojmv djvlmv.,cm dfvds f dfs
            dsfjsdklf.
        </div>
        <div class="plug">
            <h2>Typed Data</h2>
            You don't know your routes until the end. Sort of hot loading for routing. Don't need to hot load,
            just need to leave them til the end. sdfjlsdkfjsd sld sdfj lsdkjf sdfs dlksdlfepowrtojmv djvlmv.,cm dfvds f dfs
            dsfjsdklf.
        </div>
        <div class="plug">
            <h2>Isomorphic</h2>
            You don't know your routes until the end. Sort of hot loading for routing. Don't need to hot load,
            just need to leave them til the end. sdfjlsdkfjsd sld sdfj lsdkjf sdfs dlksdlfepowrtojmv djvlmv.,cm dfvds f dfs
            dsfjsdklf.
        </div>
        <h2>Putting Data First</h2>
        <p>
            You don't know your routes until the end. Sort of hot loading for routing. Don't need to hot load,
            just need to leave them til the end. 
            sdfjlsdkfjsd <code>sld sdfj</code> lsdkjf sdfs dlksdlfepowrtojmv djvlmv.,cm dfvds f dfs
            dsfjsdklf.
            You don't know your routes until the end. sdfsdiklfjs lfksdjlfk sjdlkfjsdkl fjsldkjf klsdjf skldjf d
            sdfjlsdkfjsd kfjsdl kfdlkfj skldfj sld sdfj lsdkjf sdfs.
        </p>
        <div class="app">
            <pre>
                <code class="language-jsx">
var stateNavigator = new Navigation.StateNavigator([
  {key: 'jsLibListing', </code><label for="route"><code class="language-jsx"> route:</code></label><input id="route"/><code class="language-jsx">}
]);

var JsLibPicker = ({jsLibs, pick, stateNavigator}) => (
  &lt;div>
    &lt;div>You Picked {pick || '??'}&lt;/div>
    &lt;ul>
      {jsLibs.map((jsLib) => (
        &lt;li>
          &lt;NavigationReact.NavigationLink 
            stateKey="jsLibListing"
            navigationData={{pick: jsLib}}
            stateNavigator={stateNavigator}>
            {jsLib}
          &lt;/NavigationReact.NavigationLink>
        &lt;/li>
       ))}
    &lt;/ul>
  &lt;/div>
);

var jsLibs = ['Backbone.js','AngularJS','jQuery','Prototype','React','Ember',
'Knockout.js','Dojo','Mootools','Underscore','Lodash','Moment','Express','Koa'];

var jsLibListing = stateNavigator.states.jsLibListing;
jsLibListing.navigated = function(data) {
  ReactDOM.render(&lt;JsLibPicker 
    jsLibs={jsLibs}
    pick={data.pick}
    stateNavigator={stateNavigator} />, document.getElementById('app'));
};

stateNavigator.start();</code>
            </pre>
        </div>
        <div id="app"/>
    </div>
    <div id="footer">
        Thanks to <a href="https://www.browserstack.com/">BrowserStack</a> for their help with cross browser testing
    </div>
    <script type="text/javascript" src="prism.js"></script>
    <script type="text/javascript" src="example/react/react-0.14.3.min.js"></script>
    <script type="text/javascript" src="example/react/react-dom-0.14.3.min.js"></script>
    <script type="text/javascript" src="navigation.js"></script>
    <script type="text/javascript" src="navigation.react.js"></script>
    <script type="text/javascript">
var stateNavigator = new Navigation.StateNavigator([{ key: 'jsLibListing', route: '' }]);

var JsLibPicker = function JsLibPicker(_ref) {
  var jsLibs = _ref.jsLibs;
  var pick = _ref.pick;
  var stateNavigator = _ref.stateNavigator;
  return React.createElement(
    'div',
    null,
    React.createElement(
      'div',
      null,
      'You Picked ',
      pick || '??'
    ),
    React.createElement(
      'ul',
      null,
      jsLibs.map(function (jsLib) {
        return React.createElement(
          'li',
          null,
          React.createElement(
            NavigationReact.NavigationLink,
            {
              stateKey: 'jsLibListing',
              navigationData: { pick: jsLib },
              stateNavigator: stateNavigator },
            jsLib
          )
        );
      })
    )
  );
};

stateNavigator.states.jsLibListing.navigated = render;

stateNavigator.start('/');

document.getElementById('route').addEventListener('keyup', function(e){
    var navigationData = stateNavigator.stateContext.includeCurrentData({});
    try {
        stateNavigator.configure([{key: 'jsLibListing', route: e.target.value}]);
        stateNavigator.states.jsLibListing.navigated = render;
        stateNavigator.navigate('jsLibListing', navigationData);
    } catch(ex) {
        render({ pick: navigationData.pick });
    }
});

function render(data) {
  ReactDOM.render(React.createElement(JsLibPicker, {
    jsLibs: ['Backbone.js', 'AngularJS', 'jQuery', 'Prototype', 'React', 'Ember', 
    'Knockout.js', 'Dojo', 'Mootools', 'Underscore', 'Lodash', 'Moment', 'Express', 'Koa'],
    pick: data.pick,
    stateNavigator: stateNavigator }), document.getElementById('app'));
};
    </script>
</body>
</html>