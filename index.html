<html>
<head>
    <title>Navigation</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="prism.css">
    <link rel="stylesheet" href="navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="#" class="selected">Navigation</a>
            <a href="#">Docs</a>
            <a href="#">Tutorial</a>
            <a href="#">Download</a>
            <a id="github" title="GitHub source" href="#"></a>
        </div>
    </div>
    <div id="logo">
        <h1>Navigation</h1>
        <img alt="cursor hand" src="cursor.png" />
        <div>The data-first JavaScript router</div>
    </div>
    <div id="content">
        <div class="plug">
            <h2>Data First</h2>
            You don't know your routes until the end. Don't configure until you know what data and
            type of data you're passing. Routes at the end...
        </div>
        <div class="plug">
            <h2>Typed Data</h2>
            Never turn data to or from a string. Pass numbers, booleans, dates and arrays in your Urls.
            Don't need any configuration to do this. Once you're happy with the data, add the configuration
            to tidy up the Urls...
        </div>
        <div class="plug">
            <h2>Routes Last</h2>
            Build any route you want, once you've got your data sorted. Any data can be turned into a route parameter
            without changing your app. You can even turn arrays into splats...
        </div>
        <h2>Try It Out</h2>
        <p>
            You don't know your routes until the end. Sort of hot loading for routing. Don't need to hot load,
            just need to leave them til the end. 
            sdfjlsdkfjsd <code>sld sdfj</code> lsdkjf sdfs dlksdlfepowrtojmv djvlmv.,cm dfvds f dfs
            dsfjsdklf.
            You don't know your routes until the end. sdfsdiklfjs lfksdjlfk sjdlkfjsdkl fjsldkjf klsdjf skldjf d
            sdfjlsdkfjsd kfjsdl kfdlkfj skldfj sld sdfj lsdkjf sdfs.
        </p>
        <div class="app">
            <pre>
                <code class="language-jsx">
var stateNavigator = new Navigation.StateNavigator([
  {key: 'jsLibListing', </code><label for="route"><code class="language-jsx"> route:</code></label><input id="route"/><code class="language-jsx">}
]);

var JsLibPicker = ({jsLibs, pick, stateNavigator}) => (
  &lt;div>
    &lt;div>You Picked {pick || '??'}&lt;/div>
    &lt;ul>
      {jsLibs.map((jsLib) => (
        &lt;li>
          &lt;NavigationReact.NavigationLink 
            stateKey="jsLibListing"
            navigationData={{pick: jsLib}}
            stateNavigator={stateNavigator}>
            {jsLib}
          &lt;/NavigationReact.NavigationLink>
        &lt;/li>
       ))}
    &lt;/ul>
  &lt;/div>
);

var jsLibs = ['Backbone.js','AngularJS','jQuery','Prototype','React','Ember',
'Knockout.js','Dojo','Mootools','Underscore','Lodash','Moment','Express','Koa'];

var jsLibListing = stateNavigator.states.jsLibListing;
jsLibListing.navigated = function(data) {
  ReactDOM.render(&lt;JsLibPicker 
    jsLibs={jsLibs}
    pick={data.pick}
    stateNavigator={stateNavigator} />, document.getElementById('app'));
};

stateNavigator.start();</code>
            </pre>
        </div>
        <div id="app"/>
    </div>
    <div id="footer">
        Thanks to <a href="https://www.browserstack.com/">BrowserStack</a> for their help with cross browser testing
    </div>
    <script type="text/javascript" src="prism.js"></script>
    <script type="text/javascript" src="example/react/react-0.14.3.min.js"></script>
    <script type="text/javascript" src="example/react/react-dom-0.14.3.min.js"></script>
    <script type="text/javascript" src="navigation.js"></script>
    <script type="text/javascript" src="navigation.react.js"></script>
    <script type="text/javascript">
var stateNavigator = new Navigation.StateNavigator([{ key: 'jsLibListing', route: '' }]);

var JsLibPicker = function JsLibPicker(_ref) {
  var jsLibs = _ref.jsLibs;
  var pick = _ref.pick;
  var stateNavigator = _ref.stateNavigator;
  return React.createElement(
    'div',
    null,
    React.createElement(
      'div',
      null,
      'You Picked ',
      pick || '??'
    ),
    React.createElement(
      'ul',
      null,
      jsLibs.map(function (jsLib) {
        return React.createElement(
          'li',
          null,
          React.createElement(
            NavigationReact.NavigationLink,
            {
              stateKey: 'jsLibListing',
              navigationData: { pick: jsLib },
              stateNavigator: stateNavigator },
            jsLib
          )
        );
      })
    )
  );
};

stateNavigator.states.jsLibListing.navigated = render;

stateNavigator.start('/');

document.getElementById('route').addEventListener('keyup', function(e){
    var navigationData = stateNavigator.stateContext.includeCurrentData({});
    try {
        stateNavigator.configure([{key: 'jsLibListing', route: e.target.value}]);
        stateNavigator.states.jsLibListing.navigated = render;
        stateNavigator.navigate('jsLibListing', navigationData);
    } catch(ex) {
        render({ pick: navigationData.pick });
    }
});

function render(data) {
  ReactDOM.render(React.createElement(JsLibPicker, {
    jsLibs: ['Backbone.js', 'AngularJS', 'jQuery', 'Prototype', 'React', 'Ember', 
    'Knockout.js', 'Dojo', 'Mootools', 'Underscore', 'Lodash', 'Moment', 'Express', 'Koa'],
    pick: data.pick,
    stateNavigator: stateNavigator }), document.getElementById('app'));
};
    </script>
</body>
</html>