<!DOCTYPE html>
<html>
<head>
    <title>Navigating to a Dialog</title>
    <meta name="viewport" content="width=device-width">
    <link href="codemirror.css" rel="stylesheet" />
    <link href="tutorial.css" rel="stylesheet" />
    <style>
        .CodeMirror { height:265px; }
    </style>
</head>
<body>
    <div id="header">
        <div id="banner">
            <a id="home" href="../index.html">Navigation</a>
            <a class="active" href="configuringstates.html">Tutorial</a>
            <a href="../example/angular/navigation.html">Examples</a>
            <a href="../download/index.html">Download</a>
            <a href="../documentation/configuring.html">Documentation</a>
            <a href="https://github.com/grahammendick/navigation">GitHub Source</a>
        </div>
    </div>
    <div id="content">
        <div id="tutorial">
            <h3>Exercises</h3>
            <ol>
                <li><a id="e1">Configuring States</a></li>
                <li><a id="e2">Accessing States</a></li>
                <li><a id="e3">Navigating to a Dialog</a></li>
                <li><a id="e4">Creating a State Navigator</a></li>
                <li><a id="e5">Configuring a Transition</a></li>
                <li><a id="e6">Navigating along a Transition</a></li>
                <li><a id="e7">Navigating Back</a></li>
                <li><a id="e8">Passing Data</a></li>
                <li><a id="e9">Refreshing</a></li>
                <li><a id="e10">Remembering Data</a></li>
                <li><a id="e11">Tidying Up the Url</a></li>
            </ol>
        </div>
        <div id="exercise">
            <h1>Exercise 3: Navigating to a Dialog</h1>
            <p>
                In a traditional router, you move between views by changing the route. In Navigation, you move between views
                by navigating to a different State. One way to do this is by navigating to a Dialog. Doing so will set the
                current State to that specified in the Dialog's initial property.
            </p>
            <p>
                When a user starts up your SPA, you need to show them the people listing first. This is the same as saying you
                need the current State set to the listing State. In this exercise, you'll achieve exactly that by navigating
                to your Dialog.
            </p>
            <textarea id="code"></textarea>
            <button id="run">Run</button>
            <button id="cheat">Cheat</button>
            <button id="next">Next</button>
        </div>
    </div>
    <script>
        var tutorial = {
            part: 3,
            exercise:
"function(result){\n\
	Navigation.StateInfoConfig.build([{\n\
		key: '{dialog}', initial: '{listing}', states: [\n\
			{ key: '{listing}', route: 'people' },\n\
    		{ key: '{details}', route: 'person' }\n\
		]\n\
	}]);\n\
	/*-------------------------EXERCISE-------------------------\n\
	 * Ensure the current State is set to the listing State by\n\
	 * navigating to your Dialog. Replace the blank below with\n\
	 * a call to the 'navigate' function on the StateController,\n\
	 * passing in the name of your Dialog as a string.\n\
	 */\n\
	Navigation.StateController.?;\n\
}",
            answer:
"function(result){\n\
	Navigation.StateInfoConfig.build([{\n\
		key: '{dialog}', initial: '{listing}', states: [\n\
			{ key: '{listing}', route: 'people' },\n\
    		{ key: '{details}', route: 'person' }\n\
		]\n\
	}]);\n\
	Navigation.StateController.navigate('{dialog}');\n\
}",
            test: function (listing) {
                if (Navigation.StateContext.state !== listing)
                    throw "The current state isn't the listing State";
            }
        }
    </script>
    <script src="../navigation.js"></script>
    <script src="codemirror.js"></script>
    <script src="javascript.js"></script>
    <script src="tutorial.js"></script>
</body>
</html>
