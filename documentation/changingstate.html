<html>
<head>
    <title>Changing State</title>
    <link href="../github.css" rel="stylesheet" />
    <link href="documentation.css" rel="stylesheet" />
</head>
<body>
    <div id="header">
        <div id="banner">
            <a id="home" href="../index.html">Navigation</a>
            <a href="../tutorial/configuringstates.html">Tutorial</a>
            <a href="../example/angular/navigation.html">Examples</a>
            <a href="../download/index.html">Download</a>
            <a class="active" href="configuring.html">Documentation</a>
            <a href="https://github.com/grahammendick/navigation">GitHub Source</a>
        </div>
    </div>
    <div id="content">
        <div id="nav">
            <h3></h3>
            <ul>
                <li><a href="configuring.html">Configuring</a></li>
                <li class="active"><a href="changingstate.html">Changing State</a></li>
                <li><a href="changingdata.html">Changing Data</a></li>
                <li><a href="rememberingdata.html">Remembering Data</a></li>
                <li><a href="handlingnavigation.html">Handling Navigation</a></li>
                <li><a href="settingdatadefaults.html">Setting Data Defaults</a></li>
                <li><a href="hyperlinking.html">Hyperlinking</a></li>
                <li><a href="managinghistory.html">Managing History</a></li>
            </ul>
        </div>
        <div id="doc">
            <h1>Changing State</h1>
            <p>
                A State is equivalent to a view in your application. Going to a different view is the same as changing the current State.
                Typically, you change views in response to a user action, like selecting a menu option or clicking a button. Dialogs and
                Transitions represent these user interactions and are used to navigate between States. 
            </p>
            <p>
                It's time for a reminder of the <a href="configuring.html">email application configuration:</a> 
                <pre><code class="javascript">var inboxDialog = {
    key: 'inbox', initial: 'listing', states: [
        { key: 'listing', route: '', transitions: [
            { key: 'select', to: 'details' }
        ]},
        { key: 'details', route: 'mail' }
    ]
};
var composeDialog = {
    key: 'compose', initial: 'new', states: [
        { key: 'new', route: 'newmail' }
    ]
};</code></pre>
            </p>
            <p>
                When a user's viewing their inbox, the current State's set to the 'listing' State of the 'inbox' Dialog. From there, the user
                can choose to either compose a new mail or select a mail to view. Composing a mail corresponds to navigating to the 'compose'
                Dialog; selecting a mail to view corresponds to navigating along the 'select' Transition.
            </p>
            <p>
                You navigate to a Dialog by passing the key of that Dialog to the navigate function on the StateController. This sets the current
                State to the one specified in that Dialog's 'initial' property.
                <pre><code class="javascript">// Sets the current State to the 'new' State of the 'compose' Dialog
Navigation.StateController.navigate('compose');</code></pre>
            </p>
            <p>
                You navigate along a Transition by passing the key of that Transition to the navigate function on the StateController. This sets the
                current State to the one specified in that Transition's 'to' property.
                <pre><code class="javascript">// Sets the current State to the 'details' State of the 'inbox' Dialog
Navigation.StateController.navigate('select');</code></pre>
            </p>
            <p>
                You can only navigate along a child Transition of the current State. If the user was composing a new mail, they wouldn't be able to
                navigate along the 'select' Transition. Their only option would be to return to the inbox by navigating to the 'inbox' Dialog.
            </p>
            <h2 id="back">Back Navigation</h2>
            <p>
                A breadcrumb trail is a navigation aid that allows a user to return to any view they visited en route to the current view. By keeping
                track of visited States as you navigate along Transitions, Navigation builds a dynamic breadcrumb trail. Navigating back a distance
                along this trail is another way of changing State.
            </p>
            <p>
                When the user selects a mail from their inbox, they navigate along the 'select' Transition, building a breadcrumb trail of length 1.
                To return to the 'listing' State you can navigate back 1 State.
                <pre><code class="javascript">Navigation.StateController.navigateBack(1);</code></pre>
            </p>
            <p>
                If a user bookmarks their open mail and comes back another day to read it in full, you'd still be able to navigate back to the inbox.
                That's because the breadcrumb trail is stored in the Url. The Url length is kept in check because the breadcrumb trail is cleared out
                each time you navigate to a Dialog.
            </p>
            <p>
                If you're using <a href="managinghistory.html">HTML5 history</a>, you might not want the breadcrumb trail appearing in your pretty Urls.
                You can turn it off by setting a State's 'trackCrumbTrail' property to false. You can safely turn it off on the 'listing' State, but
                turning it off on the 'details' State would stop back navigation working.
                <pre><code class="javascript">var inboxDialog = {
    key: 'inbox', initial: 'listing', states: [
        { key: 'listing', route: '', trackCrumbTrail: false, transitions: [
            { key: 'select', to: 'details' }
        ]},
        { key: 'details', route: 'mail' }
    ]
}</code></pre>
            </p>
        </div>
    </div>
    <script src="../highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
</body>
</html>