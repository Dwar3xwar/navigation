<html>
<head>
    <title>Shared Element Transition (Android)</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../../index.html">Navigation</a>
            <a href="../hello-world.html" class="selected">Docs</a>
            <a href="../../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="../hello-world.html">Hello World</a>
            <a href="../thinking-in-navigation.html">Thinking in Navigation</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="../state-navigation.html">A. State Navigation</a>
            <a href="../navigation-data.html">B. Navigation Data</a>
            <a href="../routes.html">C. Routes</a>
            <a href="../examples.html">Examples</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="../current-data.html">Current Data</a>
            <a href="../html5-history.html">HTML5 History</a>
            <a href="../navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="../reusable-components.html">Reusable Components</a>
            <div class="separator"></div>
            <h2>MOBILE</h2>
            <a href="../mobile/hello-world.html">Hello World</a>
            <a href="../mobile/animated-navigation.html">Animated Navigation</a>
            <a href="../mobile/non-animated-navigation.html">Non-Animated Navigation</a>
            <a href="../mobile/clean-urls.html">Clean Urls</a>
            <a href="../mobile/shared-element-navigation.html">Shared Element Navigation</a>
            <a href="../mobile/examples.html">Examples</a>
            <div class="separator"></div>
            <h2>NATIVE</h2>
            <a href="setup.html">Setup</a>
            <a href="hello-world.html">Hello World</a>
            <a href="push-navigation.html">Push Navigation</a>
            <a href="pop-navigation.html">Pop Navigation</a>
            <a href="custom-animation.html">Custom Animation (Android)</a>
            <a href="shared-element-transition.html" class="selected">Shared Element Transition (Android)</a>
            <a href="ui-bar-buttons.html">UI Bar Buttons (iOS)</a>
            <a href="deep-links.html">Deep Links</a>
            <a href="tabs-setup.html">Tabs Setup (iOS)</a>
            <a href="examples.html">Examples</a>
        </div>
        <div id="article">
            <h1>Shared Element Transition (Android)</h1>
            <p>
                Android supports shared element transitions, where you can smoothly animate between UI elements that are common across two scenes. The Navigation router exposes this functionality to React using the <code>SharedElementAndroid</code> component. To identify a pair of shareable elements, you wrap each one in a <code>SharedElementAndroid</code> component and give them both the same <code>name</code>.
            </p>
            <p>
                In our email example app, we can smooth out the transition when a user opens an email by sharing the subject of the email between the 'inbox' scene and the 'mail' scene. We wrap the subject elements on each scene inside a <code>SharedElementAndroid</code> component and give them both the same name.
            </p>
            <pre><code class="language-jsx">// The 'inbox' scene
&lt;TouchableHighlight
    onPress={() => {
        stateNavigator.navigate('mail', {id: id});
    }}>
    &lt;SharedElementAndroid name={'mail' + id}>
        &lt;Text>Meeting invite&lt;/Text>
    &lt;/SharedElementAndroid>
&lt;/TouchableHighlight></code></pre>
            <pre><code class="language-jsx">// The 'mail' scene
&lt;SharedElementAndroid name={'mail' + id}>
    &lt;Text>Meeting invite&lt;/Text>
&lt;/SharedElementAndroid></code></pre>
            <p> 
                We attach a `getSharedElements` function to the 'mail' `State`               
            </p>
            <pre><code class="language-js">var {mail} = stateNavigator.scenes;
mail.getSharedElements = data => ['mail' + data.id];
</code></pre>
            <h2>Custom Transition</h2>
            <p>
                You can change the default shared element animation by creating an Android transition resource file. In our email example application, we want the email subject to overshoot its target slightly before settling into place. Inside Android Studio, we right click the root of our project and choose 'New -> Android Resource File'. In the pop-up dialog, we enter a name of 'email_overshoot', pick 'Transition' from the resource type dropdown and enter 'transition' for the directory name. We configure our animation using the built-in 'overshoot' interpolator.
            </p>
            <pre><code class="language-jsx">&lt;?xml version="1.0" encoding="utf-8"?>
&lt;transitionSet xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;changeBounds android:interpolator="@android:interpolator/overshoot"/>
&lt;/transitionSet></code></pre>
            <p>
                To get this animation to play when the 'mail' scene's <code>Text</code> component mounts and unmounts, we pass the name of our resource file to the <code>transition</code> prop of the <code>SharedElementAndroid</code> component.
            </p>
            <pre><code class="language-jsx">// The 'mail' scene
&lt;SharedElementAndroid name="mail" transition="email_overshoot">
    &lt;Text>Meeting invite&lt;/Text>
&lt;/SharedElementAndroid></code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>