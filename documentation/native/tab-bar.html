<html>
<head>
    <title>Tab Bar</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../../index.html">Navigation</a>
            <a href="../hello-world.html" class="selected">Docs</a>
            <a href="../../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="../hello-world.html">Hello World</a>
            <a href="../thinking-in-navigation.html">Thinking in Navigation</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="../state-navigation.html">A. State Navigation</a>
            <a href="../navigation-data.html">B. Navigation Data</a>
            <a href="../routes.html">C. Routes</a>
            <a href="../examples.html">Examples</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="../current-data.html">Current Data</a>
            <a href="../html5-history.html">HTML5 History</a>
            <a href="../navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="../reusable-components.html">Reusable Components</a>
            <div class="separator"></div>
            <h2>MOBILE</h2>
            <a href="../mobile/hello-world.html">Hello World</a>
            <a href="../mobile/animated-navigation.html">Animated Navigation</a>
            <a href="../mobile/non-animated-navigation.html">Non-Animated Navigation</a>
            <a href="../mobile/clean-urls.html">Clean Urls</a>
            <a href="../mobile/scene-navigation-lifecycle.html">Scene Navigation Lifecycle</a>
            <a href="../mobile/shared-element-navigation.html">Shared Element Navigation</a>
            <a href="../mobile/examples.html">Examples</a>
            <div class="separator"></div>
            <h2>NATIVE</h2>
            <a href="setup.html">Setup</a>
            <a href="hello-world.html">Hello World</a>
            <a href="push-navigation.html">Push Navigation</a>
            <a href="pop-navigation.html">Pop Navigation</a>
            <a href="navigation-bar.html">Navigation Bar</a>
            <a href="tab-bar.html" class="selected">Tab Bar</a>
            <a href="modal.html">Modal</a>
            <a href="drawer.html">Drawer</a>
            <a href="scene-navigation-lifecycle.html">Scene Navigation Lifecycle</a>
            <a href="custom-animation.html">Custom Animation (Android)</a>
            <a href="shared-element-transition.html">Shared Element Transition (Android)</a>
            <a href="deep-links.html">Deep Links</a>
            <a href="examples.html">Examples</a>
        </div>
        <div id="article">
            <h1>Tab Bar</h1>
            <p>
                The <code>TabBar</code> component gives you a native tabbed interface in iOS and Android. You create one <code>TabBarItem</code> child per tab and idenfity them using the <code>title</code> prop. On the 'contacts' scene in our email example, we separate the personal and work contacts by having a separate tab for each. We set the <code>primary</code> prop to false because these aren't top level navigation tabs.
            </p>
            <pre><code class="language-jsx">import {TabBar, TabBarItem} from 'navigation-react-native';

var Contacts = () => (
  &lt;TabBar primary={false}>
    &lt;TabBarItem title="Personal">
      &lt;ScrollView />
    &lt;/TabBarItem>
    &lt;TabBarItem title="Work">
      &lt;ScrollView />
    &lt;/TabBarItem>
  &lt;/TabBar>
);</code></pre>
            <h2>Adding Top Level Navigation Tabs</h2>
            <p>
                Top level navigation tabs are different. On iOS, and sometimes Android, they stay at the bottom of the screen the whole time. Each tab has its own stack of scenes. You navigate forward and back within the tab. To recreate these you render a <code>TabBar</code> component at the root of your app and set its <code>primary</code> prop to true. Then you assign each <code>TabBarItem</code> a <code>NavigationStack</code> component with its own <code>StateNavigator</code>.
            </p>
            <p>
                Let's add top level tabs to our email example. One tab for the user's inbox and another for their list of contacts. We create a new <code>StateNavigator</code> for the 'contacts' tab. It contains two <code>States</code> so the user can view all their contacts and edit the details of an individual contact. 
            </p>
            <pre><code class="language-jsx">var contactsNavigator = new StateNavigator([
  {key: 'contacts'},
  {key: 'contact', trackCrumbTrail: true}
]);

var {contacts, contact} = contactsNavigator.states;
contacts.renderScene = () => &lt;Contacts />;
contact.renderScene = ({id}) => &lt;Contact id={id} />;

contactsNavigator.navigate('contacts');</code></pre>
            <pre><code class="language-jsx">var Tabs = () => (
  &lt;>
    &lt;NavigationBar hidden={true}>
    &lt;TabBar primary={true}>
      &lt;TabBarItem title="Inbox" image={require('./home.png')}>
        &lt;NavigationHandler stateNavigator={inboxNavigator}>
          &lt;NavigationStack />
        &lt;/NavigationHandler>
      &lt;/TabBarItem>
      &lt;TabBarItem title="Contacts" image={require('./contacts.png')}>
        &lt;NavigationHandler stateNavigator={contactsNavigator}>
          &lt;NavigationStack />
        &lt;/NavigationHandler>
      &lt;/TabBarItem>
    &lt;/TabBar>
  &lt;/>
);</code></pre>
            <pre><code class="language-jsx">var stateNavigator = new StateNavigator([
  {key: 'tabs'}
]);

var {tabs} = stateNavigator.states;
tabs.renderScene = () => &lt;Tabs />;

stateNavigator.navigate('tabs');</code></pre>
            <pre><code class="language-jsx">&lt;TabBarItem title="Inbox" image={require('./home.png')} badge={3}></code></pre>
            <pre><code class="language-jsx"></code></pre>
            <pre><code class="language-jsx"></code></pre>
            <pre><code class="language-jsx"></code></pre>



            <pre><code class="language-jsx">var contactsNavigator = new StateNavigator([
  {key: 'contacts'},
  {key: 'contact', trackCrumbTrail: true}
]);

var {contacts, contact} = contactsNavigator.states;
contacts.renderScene = () => &lt;Contacts />;
contact.renderScene = ({id}) => &lt;Contact id={id} />;

contactsNavigator.navigate('contacts');</code></pre>
            <p>
                We change the <code>App</code> code from the <a href="setup.html">Setup instructions</a> to return a <code>TabBar</code> component. We give each tab its own <code>NavigationStack</code> and <code>StateNavigator</code>. For example, we give the 'contacts' tab the <code>contactsNavigator</code> we just created. To make them look like top level tabs, we assign each one an image as well as a title.
            </p>
            <pre><code class="language-jsx">var App = () => (
  &lt;TabBar primary={true}>
    &lt;TabBarItem title="Inbox" image={require('./home.png')} badge={unreadCount}>
      &lt;NavigationHandler stateNavigator={stateNavigator}>
        &lt;NavigationStack />
      &lt;/NavigationHandler>
    &lt;/TabBarItem>
    &lt;TabBarItem title="Contacts" image={require('./contacts.png')}>
      &lt;NavigationHandler stateNavigator={contactsNavigator}>
        &lt;NavigationStack />
      &lt;/NavigationHandler>
    &lt;/TabBarItem>
  &lt;/TabBar>
);</code></pre>
            <p>
                We assign the 'inbox' tab a badge that shows the number of unread emails. The badge won't display on Android unless we change to a <code>MaterialComponents</code> theme in the styles.xml.
            </p>
            <pre><code class="language-jsx">&lt;style name="AppTheme" parent="Theme.MaterialComponents.Light.NoActionBar.Bridge"></style></code></pre>
            <h2>Scrolling the Navigation Bar on Android</h2>
            <p>
                By wrapping the contacts scene in a <code>CoordinatorLayout</code> component we prevent the navigation bar from getting in the way on Android. The navigation bar gradually scrolls offscreen as the user moves down through their contacts. As soon as the user starts to scroll back up the navigation bar reappears. We render an empty <code>TabBar</code> inside the navigation bar to prevent the tabs scrolling off the screen, too. This functionality is only available on API level 21+ because we have to enable nested scrolling on the React Native <code>ScrollViews</code>.
            </p>
            <pre><code class="language-jsx">&lt;CoordinatorLayout>
  &lt;NavigationBar title="Contacts">
    &lt;TabBar primary={false} />
  &lt;/NavigationBar>
  &lt;TabBar primary={false}>
    &lt;TabBarItem title="Personal">
      &lt;ScrollView nestedScrollEnabled={true} />
    &lt;/TabBarItem>
    &lt;TabBarItem title="Work">
      &lt;ScrollView nestedScrollEnabled={true} />
    &lt;/TabBarItem>
  &lt;/TabBar>
&lt;/CoordinatorLayout>
</code></pre>
            <p>
                Any content inside a <code>CollapsingBar</code> component will collapse as the user scrolls down. We can spruce up our contacts scene by placing an image in the navigation bar. We use an <code>Animated.Image</code> component so we can add a parallax scrolling effect. As the navigation bar collapses the <code>offsetChanged</code> event fires and we scale and reposition the image to match.
            </p>
            <pre><code class="language-jsx">&lt;CoordinatorLayout>
  &lt;NavigationBar
    style={{height: 240}}
    onOffsetChanged={Animated.event(
        [{nativeEvent: {offset}}]
      )}>
    &lt;CollapsingBar>
      &lt;Animated.Image style={{
        transform: [{scaleY}, {translateY}]}} 
      }} />
    &lt;/CollapsingBar>
    &lt;TabBar primary={false} />
  &lt;/NavigationBar>
&lt;/CoordinatorLayout>
</code></pre>
        </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>