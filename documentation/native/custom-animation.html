<html>
<head>
    <title>Custom Animation (Android)</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../../index.html">Navigation</a>
            <a href="../hello-world.html" class="selected">Docs</a>
            <a href="../../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="../hello-world.html">Hello World</a>
            <a href="../thinking-in-navigation.html">Thinking in Navigation</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="../state-navigation.html">A. State Navigation</a>
            <a href="../navigation-data.html">B. Navigation Data</a>
            <a href="../routes.html">C. Routes</a>
            <a href="../examples.html">Examples</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="../current-data.html">Current Data</a>
            <a href="../html5-history.html">HTML5 History</a>
            <a href="../navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="../reusable-components.html">Reusable Components</a>
            <div class="separator"></div>
            <h2>MOBILE</h2>
            <a href="../mobile/hello-world.html">Hello World</a>
            <a href="../mobile/animated-navigation.html">Animated Navigation</a>
            <a href="../mobile/non-animated-navigation.html">Non-Animated Navigation</a>
            <a href="../mobile/clean-urls.html">Clean Urls</a>
            <a href="../mobile/shared-element-navigation.html">Shared Element Navigation</a>
            <a href="../mobile/examples.html">Examples</a>
            <div class="separator"></div>
            <h2>NATIVE</h2>
            <a href="setup.html">Setup</a>
            <a href="hello-world.html">Hello World</a>
            <a href="push-navigation.html">Push Navigation</a>
            <a href="pop-navigation.html">Pop Navigation</a>
            <a href="custom-animation.html" class="selected">Custom Animation (Android)</a>
            <a href="tabs-setup.html">Tabs Setup (iOS)</a>
            <a href="examples.html">Examples</a>
        </div>
        <div id="article">
            <h1>Custom Animation (Android)</h1>
            <h2>Pushing</h2>
            <p>
                By default, Android slides new scenes up from the bottom of the screen. You can change this default animation by creating an Android animation resource file. In our example email application, we want the 'mail' scene to slide in from the right when a user opens an email. Inside Android Studio, we right click the root of our project and choose 'New -> Android Resource File'. In the pop-up dialog, we enter a name of 'slide_in', pick 'Animation' from the resource type dropdown and enter 'anim' for the directory name. We configure our 'slide_in' animation as a translation of the scene's x coordinate from 100% to 0.
            </p>
            <pre><code class="language-jsx">&lt;?xml version="1.0" encoding="utf-8"?>
&lt;set xmlns:android="http://schemas.android.com/apk/res/android">
  &lt;translate
    android:duration="300"
    android:fromXDelta="100%"
    android:toXDelta="0" />
&lt;/set></code></pre>
            <p>
                To get this animation to play when the mail scene starts mounting, we attach a <code>getUnmountStyle</code> function to the corresponding 'mail' <code>State</code>. When we navigate to the 'mail' <code>State</code>, the Navigation router calls this function and we return the name of our animation resource file.
            </p>
            <pre><code class="language-js">var {mail} = stateNavigator.scenes;
mail.getUnmountStyle = from => from ? 'slide_in' : null;
</code></pre>
            <h2>Popping</h2>
            <pre><code class="language-jsx">&lt;?xml version="1.0" encoding="utf-8"?>
&lt;set xmlns:android="http://schemas.android.com/apk/res/android">
  &lt;translate
    android:duration="300"
    android:fromXDelta="0"
    android:toXDelta="100%" />
&lt;/set></code></pre>
            <pre><code class="language-js">var {mail} = stateNavigator.scenes;
mail.getUnmountStyle = from => from ? 'slide_in' : 'slide_out';
</code></pre>
            <h2>Animating Crumbs</h2>
            <pre><code class="language-js">var {inbox} = stateNavigator.scenes;
inbox.getCrumbStyle = from => from ? 'fade_in' : 'fade_out';
</code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>