<html>
<head>
    <title>Setup</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../../index.html">Navigation</a>
            <a href="../hello-world.html" class="selected">Docs</a>
            <a href="../../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="../hello-world.html">Hello World</a>
            <a href="../thinking-in-navigation.html">Thinking in Navigation</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="../state-navigation.html">A. State Navigation</a>
            <a href="../navigation-data.html">B. Navigation Data</a>
            <a href="../routes.html">C. Routes</a>
            <a href="../email-example.html">Email Example</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="../current-data.html">Current Data</a>
            <a href="../html5-history.html">HTML5 History</a>
            <a href="../navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="../reusable-components.html">Reusable Components</a>
            <div class="separator"></div>
            <h2>MOBILE</h2>
            <a href="../mobile/hello-world.html">Hello World</a>
            <a href="../mobile/animated-navigation.html">Animated Navigation</a>
            <a href="../mobile/non-animated-navigation.html">Non-Animated Navigation</a>
            <a href="../mobile/clean-urls.html">Clean Urls</a>
            <a href="../mobile/shared-element-navigation.html">Shared Element Navigation</a>
            <a href="../mobile/email-example.html">Email Example</a>
            <div class="separator"></div>
            <h2>NATIVE</h2>
            <a href="setup.html" class="selected">Setup</a>
            <a href="hello-world.html">Hello World</a>
            <a href="push-navigation.html">Push Navigation</a>
            <a href="pop-navigation.html">Pop Navigation</a>
            <a href="tabs-setup.html">Tabs Setup (iOS)</a>
        </div>
        <div id="article">
            <h1>Setup</h1>
            <p>
                The Navigation router for React Native uses the underlying native APIs to provide faithful navigation on Android and iOS. Because it contains native code you first have to eject from <code>create-react-native-app</code> or create your application using <code>react-native init</code>.
            </p>
            <div class="Note">
                <h2>Note</h2>
                If you want a tabbed interface in iOS then follow the <a href="tabs-setup.html">Tabs Setup instructions</a> instead
            </div>
            <p>
                Install the three navigation packages from npm.
            </p>
            <pre><code class="language-js">npm install navigation navigation-react navigation-react-native --save</code></pre>
            <p>
                Link the <code>navigation-react-native</code> package.
            </p>
            <pre><code class="language-js">react-native link navigation-react-native</code></pre>
            <h2>JavaScript</h2>
            <p>
                Replace the code in <code>App.js</code> with the following:
            </p>
            <pre><code class="language-jsx">import React from 'react';
import {StateNavigator} from 'navigation';
import {NavigationHandler} from 'navigation-react';
import {addNavigateHandlers, Scene} from 'navigation-react-native';

var stateNavigator = new StateNavigator([
]);

addNavigateHandlers(stateNavigator);

export default ({crumb}) => (
  &lt;NavigationHandler stateNavigator={stateNavigator}>
    &lt;Scene crumb={crumb} />
  &lt;/NavigationHandler>
);</code></pre>
            <h2>Android</h2>
            <p>
                Locate the <code>AndroidManifest.xml</code> in the Android project and add a <code>launchMode</code> of <code>singleTop</code> to the <code>MainActivity</code>.
            </p>
            <pre><code class="language-jsx">&lt;activity
  android:name=".MainActivity"
  android:launchMode="singleTop"
  ...</code></pre>
            <h2>iOS</h2>
            <p>
                Locate the <code>AppDelegate.h</code> in the iOS project and replace the code with the following:
            </p>
            <pre><code class="language-js">#import &lt;UIKit/UIKit.h>
#import &lt;React/RCTBridge.h>
#import "NVApplicationHostDelegate.h"

@interface AppDelegate : UIResponder &lt;NVApplicationHostDelegate>

@property (nonatomic, strong) UIWindow *window;
@property (nonatomic, strong) RCTBridge *bridge;

@end</code></pre>
            <p>
                Locate the <code>AppDelegate.m</code> in the iOS project and replace the code with that shown below. Change the <code>"Title"</code> placeholder string to the title of your first scene. Change the <code>"appKey"</code> placeholder string to the name of your application (it should match the key used in the <code>registerComponent</code> call in <code>index.js</code>).
            </p>
<pre><code class="language-js">#import "AppDelegate.h"
#import &lt;React/RCTBundleURLProvider.h>
#import &lt;React/RCTRootView.h>
#import "NVSceneController.h"

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
  NSURL *jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@"index" fallbackResource:nil];
  
  self.bridge = [[RCTBridge alloc] initWithBundleURL:jsCodeLocation moduleProvider:nil launchOptions:launchOptions];  
  self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];

  NSString *title = @"Title";
  NSString *appKey = @"appKey";

  UIViewController *sceneController = [[NVSceneController alloc] init:0 tab:0 title:title appKey:appKey];
  UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:sceneController];

  self.window.rootViewController = navigationController;
  [self.window makeKeyAndVisible];
  return YES;
}

@end</code></pre>
          </div>
    </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>