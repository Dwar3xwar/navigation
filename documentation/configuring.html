<html>
<head>
    <title>Configuring</title>
    <link href="../github.css" rel="stylesheet" />
    <link href="documentation.css" rel="stylesheet" />
</head>
<body>
    <div id="header">
        <div id="banner">
            <a id="home" href="../index.html">Navigation</a>
            <a href="../tutorial/configuringstates.html">Tutorial</a>
            <a href="../example/angular/navigation.html">Examples</a>
            <a href="../download/index.html">Download</a>
            <a class="active" href="configuring.html">Documentation</a>
            <a href="https://github.com/grahammendick/navigation">GitHub Source</a>
        </div>
    </div>
    <div id="content">
        <div id="nav">
            <h3></h3>
            <ul>
                <li class="active"><a href="configuring.html">Configuring</a></li>
                <li><a href="changingstate.html">Changing State</a></li>
                <li><a href="changingdata.html">Changing Data</a></li>
                <li><a href="hyperlinking.html">Hyperlinking</a></li>
                <li><a href="managinghistory.html">Managing History</a></li>
            </ul>
        </div>
        <div id="doc">
            <h1>Configuring</h1>
            <p>
                Navigation isn't like other routers. Other routers implement a State machine under the covers and make you pass in the route
                you want to navigate to. Navigation reverses this, by exposing the State machine layer and hiding away the route building.
                Navigation's State machine layer is made up of three elements:
            </p>
            <dl>
                <dt>State</dt>
                <dd>A view in your application</dd>
                <dt>Dialog</dt>
                <dd>A logical grouping of States</dd>
                <dt>Transition</dt>
                <dd>A navigation between States within the same Dialog</dd>
            </dl>
            <p>
                For example, in an email application, you need a State that lists your emails and one that shows a mail's details. In order to
                select a mail from the list, you need a Transition that navigates from the first State to the second. An 'inbox' Dialog that
                groups these two States would look like:
            <pre><code class="javascript">// inbox Dialog has two child States
// listing State has a child Transition to the details State
var inboxDialog = {
    key: 'inbox', initial: 'listing', states: [
        { key: 'listing', transitions: [
            { key: 'select', to: 'details' }
        ]},
        { key: 'details' }
    ]
};</code></pre>
            </p>
            <p>
                You also need a State for composing new emails. Because it's not related to your inbox activities, it would to go inside a new Dialog.
                <pre><code class="javascript">var composeDialog = {
    key: 'compose', initial: 'new', states: [
        { key: 'new' }
    ]
};</code></pre>

                Once complete, your list of Dialogs is passed to Navigation:
                <pre><code class="javascript">Navigation.StateInfoConfig.build([ inboxDialog, composeDialog ]);</code></pre>
            </p>
            <h2>Routes</h2>
            <p>
                The only time you ever refer to a route is during configuration. Each State must be assigned a route. As you move between States, Navigation
                keeps the Url in step with the current State's route. The route pattern matching rules are:
            </p>
            <dl>
                <dt>foo</dt>
                <dd>Matches 'foo' but not 'foo/bar'</dd>
                <dt>foo/{param}</dt>
                <dd>Matches 'foo/bar' but not 'foo'</dd>
                <dt>foo/{param?}</dt>
                <dd>Matches 'foo' and 'foo/bar'</dd>
            </dl>
            <p>
                Here's the 'inbox' Dialog updated with routes set for the two States:
                <pre><code class="javascript">var inboxDialog = {
    key: 'inbox', initial: 'listing', states: [
        { key: 'listing', route: '', transitions: [
            { key: 'select', to: 'details' }
        ]},
        { key: 'details', route: 'mail' }
    ]
};</code></pre>
            </p>
        </div>
    </div>
    <script src="../highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
</body>
</html>