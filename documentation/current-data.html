<html>
<head>
    <title>Current Data</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../css/prism.css">
    <link rel="stylesheet" href="../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../index.html">Navigation</a>
            <a href="hello-world.html" class="selected">Docs</a>
            <a href="../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="hello-world.html">Hello World</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="state-navigation.html">A. State Navigation</a>
            <a href="navigation-data.html">B. Navigation Data</a>
            <a href="routes.html">C. Routes</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="breadcrumb-trail.html">Breadcrumb Trail</a>
            <a href="current-data.html" class="selected">Current Data</a>
            <a href="html5-history.html">HTML5 History</a>
            <a href="navigation-lifecycle.html">Navigation Lifecycle</a>
            <div class="separator"></div>
            <a href="email-example.html">Email Example</a>
        </div>
        <div id="article">
            <h1>Current Data</h1>
            <h2>Refreshing</h2>
            <p>
                You've seen how the Navigation router helps you pass data between different <code>States</code> in your application, like passing the mail id when opening a mail in an email application. But you often want to pass data without changing <code>State</code>. Paging and sorting through the mails in the inbox changes the page number and sort order but doesn't change the <code>State</code>. 
            </p>
            <p>
                You can build Hyperlinks that change data without changing <code>State</code> using the <code>RefreshLink</code> component. It's similar to the <code>NavigationLink</code> component except there's no <code>stateKey prop</code> because the destination <code>State</code> is always the current <code>State</code>. In the email example we can use the <code>RefreshLink</code> component to build a Hyperlink that changes to the second page of the inbox.
            </p>
            <pre><code class="language-jsx">&lt;NavigationReact.RefreshLink 
  navigationData={{page: 2}}
  stateNavigator={stateNavigator}>
  Page Two
&lt;/NavigationReact.RefreshLink></code></pre>
            <p>
                Alternatively, you can programmatically pass the new data into the <code>refresh</code> function on the <code>stateNavigator</code>.
            </p>
            <pre><code class="language-jsx">stateNavigator.refresh({page: 2});</code></pre>
            <p>
                The Navigation router passes the new data to the <code>navigated</code> function attached to the current <code>State</code>, allowing the <code>Inbox</code> component to rerender with the changed page number.
            </p>
            <pre><code class="language-jsx">stateNavigator.states.inbox.navigated = function(data) {
  ReactDOM.render(
    &lt;Inbox page={data.page} sort={data.sort} />,
    document.getElementById('app'));
};</code></pre>
            <h2>Remembering Data</h2>
            <p>
                Remembering the current data is just as important as changing the current data. We mustn't forget the current sort order when we navigate to the second page of the inbox. Instead of manually adding the current sort order to the navigation data, we can let the <code>RefreshLink</code> component remember it for us. Setting the component's <code>includeCurrentData prop</code> to true automatically merges the new page number with the current data.
            </p>
            <pre><code class="language-jsx">&lt;NavigationReact.RefreshLink 
  navigationData={{page: 2}}
  includeCurrentData={true}
  stateNavigator={stateNavigator}>
  Page Two
&lt;/NavigationReact.RefreshLink></code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../js/prism.js"></script>
</body>
</html>