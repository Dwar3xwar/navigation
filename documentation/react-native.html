<html>
<head>
    <title>React Native</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../css/prism.css">
    <link rel="stylesheet" href="../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../index.html">Navigation</a>
            <a href="hello-world.html" class="selected">Docs</a>
            <a href="../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="hello-world.html">Hello World</a>
            <a href="thinking-in-navigation.html">Thinking in Navigation</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="state-navigation.html">A. State Navigation</a>
            <a href="navigation-data.html">B. Navigation Data</a>
            <a href="routes.html">C. Routes</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="breadcrumb-trail.html">Breadcrumb Trail</a>
            <a href="current-data.html">Current Data</a>
            <a href="html5-history.html">HTML5 History</a>
            <a href="navigation-lifecycle.html">Navigation Lifecycle</a>
            <div class="separator"></div>
            <a href="email-example.html">Email Example</a>
            <a href="reusable-components.html">Reusable Components</a>
            <a href="react-native.html" class="selected">React Native</a>
        </div>
        <div id="article">
            <h1>React Native</h1>
            <p>
                The Navigation router works just as well on mobile as it does on the web. There's a separate <code>Navigation React Native</code> plugin package that provides the mobile-specific components:
            </p>
            <pre><code class="language-js">npm install navigation navigation-react-native</code></pre>
            <p>
                Navigation React Native is modelled on React Motion. You animate scenes as they come and go like you animate components as they mount and unmount with React Motion. <a href="">Open this Twitter example</a> on your mobile to see Navigation React Native in action (you'll need the <a href="https://expo.io/">Expo app</a> installed).
            </p>
            <h2>Rendering Scenes</h2>
            <p>
                You <a href="state-navigation.html">define your States</a> in much the same way as on the web. The only difference is that you must enable the <a href="breadcrumb-trail.html">breadcrumb trail</a> so that Navigation React Native can keep track of the visited scenes.
            </p>
            <pre><code class="language-jsx">const stateNavigator = new StateNavigator([
  {key: 'home'},
  {key: 'tweet', trackCrumbTrail: true}
]);</code></pre>
            <p>
                Attach a <code>renderScene</code> function to each <code>State</code> and return the component that makes up the scene. Navigation React Native calls this function on the active <code>State</code>, passing in the navigation data.
            </p>
            <pre><code class="language-jsx">stateNavigator.states.home.renderScene = () => &lt;Home />;
stateNavigator.states.tweet.renderScene = (data) => &lt;Tweet id={data.id} />;</code></pre>
            <h2>Animating Scenes</h2>
            <p>
                There are three distinct stages that a scene can be in: unmounted, mounted and crumb. As you navigate between <code>States</code>, the scenes move from one stage to another.
            </p>
            <img alt="The three stages of navigation: unmounted, mounted and crumb" src="native-navigation.png"/>
            <p>
                When you open up the Twitter example, the home scene starts off <strong>mounted</strong> and the tweet scene starts off <strong>unmounted</strong>. Navigating to a tweet, <strong>mounts</strong> the tweet scene and moves the home scene into the bread<strong>crumb</strong> trail.
            </p>
            <pre><code class="language-jsx">stateNavigator.navigate('tweet', { id: 10 });</code></pre>
            <p>Navigating back from the tweet to home, <strong>unmounts</strong> the tweet scene and <strong>mounts</strong> the home scene again.</p>
            <pre><code class="language-jsx">stateNavigator.navigateBack(1);</code></pre>
            <p>
                Navigation React Native has a <code>NavigationMotion</code> component so you can animate the scenes as they move through each of the three stages. It has an API similar to the <code>TransitionMotion</code> component from React Motion. You provide a style for each stage and a child function that interpolates between these styles as you navigate. Here's a simplified version of the Twitter animation that fades scenes in and out.
            </p>
            <pre><code class="language-jsx">import { NavigationMotion, spring } from 'navigation-react-native';

const Twitter = () => (
  &lt;NavigationMotion
    startStateKey="home"
    unmountedStyle={{opacity: spring(0)}}
    mountedStyle={{opacity: spring(1)}}
    crumbStyle={{opacity: spring(0)}}
    stateNavigator={stateNavigator}>
    {(style, scene, url) => (
      &lt;View
        key={url}
        style={{opacity: style.opacity}}>
        {scene}
      &lt;/View>
    )}
  &lt;/NavigationMotion>
);
</code></pre>
            <p>You can check out the complete <a href="https://github.com/grahammendick/navigation/tree/master/NavigationReactNative/sample/twitter">source code for the Twitter example</a>.</p>
            <div class="note">
                <h2>Note</h2>
                <div>
                    Navigation React Native is implemented in JavaScript, so it canâ€™t match the authentic app UX that a native implementation offers.
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="../js/prism.js"></script>
</body>
</html>