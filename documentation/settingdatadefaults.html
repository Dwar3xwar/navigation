<html>
<head>
    <title>Setting Data Defaults</title>
    <link href="../github.css" rel="stylesheet" />
    <link href="documentation.css" rel="stylesheet" />
</head>
<body>
    <div id="header">
        <div id="banner">
            <a id="home" href="../index.html">Navigation</a>
            <a href="../tutorial/configuringstates.html">Tutorial</a>
            <a href="../example/angular/navigation.html">Examples</a>
            <a href="../download/index.html">Download</a>
            <a class="active" href="configuring.html">Documentation</a>
            <a href="https://github.com/grahammendick/navigation">GitHub Source</a>
        </div>
    </div>
    <div id="content">
        <div id="nav">
            <h3></h3>
            <ul>
                <li><a href="configuring.html">Configuring</a></li>
                <li><a href="changingstate.html">Changing State</a></li>
                <li><a href="changingdata.html">Changing Data</a></li>
                <li><a href="rememberingdata.html">Remembering Data</a></li>
                <li><a href="handlingnavigation.html">Handling Navigation</a></li>
                <li class="active"><a href="settingdatadefaults.html">Setting Data Defaults</a></li>
                <li><a href="hyperlinking.html">Hyperlinking</a></li>
                <li><a href="managinghistory.html">Managing History</a></li>
            </ul>
        </div>
        <div id="doc">
            <h1>Setting Data Defaults</h1>
            <p>
                After the example email application loads and your <a href="handlingnavigation.html">State Navigators</a> have been created, you get the
                ball rolling by calling <code>Navigation.Start()</code>. This executes an initial navigation to match the current State to the browser Url.
                On first load, the browser Url will be the root Url, which will trigger the 'listing' State Navigator passing an undefined pageNumber:
                <pre><code class="javascript">listing.navigated = function(data) {
    // The pageNumber can be undefined
    var pageNumber = data.pageNumber;
}</code></pre>
            </p>
            <p>
                To avoid cluttering up your State Navigators with defensive checks for undefined data, you can define default data values. Here's how to
                assign a default value of 1 for the pageNumber:
                <pre><code class="javascript">var inboxDialog = {
    key: 'inbox', initial: 'listing', states: [
        { key: 'listing', route: '{pageNumber?}', defaults: { pageNumber: 1 },
		trackCrumbTrail: false, transitions: [
            { key: 'select', to: 'details' }
        ]},
        { key: 'details', route: 'mail/{id}' }
    ]
};</code></pre>
            </p>
            <p>
                The defaults aren't just used at start up, but apply whenever any navigation occurs. For example, navigating to the 'inbox' Dialog without
                passing any data will set a default value of 1 for the pageNumber:
                <pre><code class="javascript">Navigation.StateController.navigate('inbox');</code></pre>
            </p>
            <p>
                Navigation treats route and query string parameters equally. You can change the 'listing' State's route to '' (empty string) and the default
                pageNumber would still apply. Navigation takes the default values into account when matching and building routes. You can make the pageNumber
                a mandatory route parameter and it would still match the root Url; and navigating to page 1 of the 'inbox' produces the root Url rather than '/1'.
            </p>
            <h2>Data Types</h2>
            <p>
                Data types are preserved by a navigation. If you pass a number, then the State Navigator will receive a number and if you pass a boolean, it will
                get a boolean. This data type information is stored in the Url along with the data value. For example, navigating to the 'details' State and passing
                a mail id of 10 produces the route 'mail/102_2' instead of 'mail/10'.
            </p>
            <p>
                You can change this by configuring a default type for a parameter. Here's how to assign the id parameter the default type of 'number':
                <pre><code class="javascript">var inboxDialog = {
    key: 'inbox', initial: 'listing', states: [
        { key: 'listing', route: '{pageNumber}', defaults: { pageNumber: 1 },
		trackCrumbTrail: false, transitions: [
            { key: 'select', to: 'details' }
        ]},
        { key: 'details', route: 'mail/{id}', defaultTypes: { id: 'number' } }
    ]
};</code></pre>
            </p>
            <p>
                A parameter's default type is assumed to be a 'string' so you need only define default types for 'number' and 'boolean' parameters. You needn't
                define a default type for a parameter with a default value because the type is derived from the value.
            </p>
        </div>
    </div>
    <script src="../highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
</body>
</html>