/**
 * Navigation React v3.1.0
 * (c) Graham Mendick - http://grahammendick.github.io/navigation/
 * License: Apache-2.0
 */
!function(t,e,a){"use strict";function n(t,e){function a(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}var i,o={oldState:null,state:null,data:{},stateNavigator:new e.StateNavigator,defaultValue:!0};i=a.createContext?a.createContext(o):{Provider:function(){throw Error("React "+a.version+" does not support the new context")},Consumer:function(t){return(0,t.children)(o)}};var r=i,s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])},c=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++){e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onNavigate=function(){e.forceUpdate()},e}return n(e,t),e.prototype.componentDidMount=function(){this.props.stateNavigator.onNavigate(this.onNavigate)},e.prototype.componentWillUnmount=function(){this.props.stateNavigator.offNavigate(this.onNavigate)},e.prototype.render=function(){var t=this.props,e=t.children,n=t.stateNavigator,i=n.stateContext,o=i.oldState,s=i.state,c=i.data,g=i.asyncData;return a.createElement(r.Provider,{value:{oldState:o,state:s,data:c,asyncData:g,stateNavigator:n}},e)},e}(a.Component),u=function(){function t(){}return t.getData=function(t,e,a,n){if(n||a){var i=a?void 0:n.trim().split(/\s*,\s*/);e=t.stateContext.includeCurrentData(e,i)}return e},t.isActive=function(t,e){var a=!0;for(var n in e){var i=e[n];a=a&&(null==i||this.areEqual(i,t.stateContext.data[n]))}return a},t.setActive=function(t,e,a){(e.activeCssClass||e.disableActive)&&(t&&e.activeCssClass&&(a.className=(a.className?a.className+" ":"")+e.activeCssClass),t&&e.disableActive&&(a.href=null))},t.areEqual=function(t,e){if(null==e)return null==t||""===t;var a=Object.prototype.toString.call(t);if(a!==Object.prototype.toString.call(e))return!1;if("[object Array]"===a){for(var n=t.length===e.length,i=0;n&&i<t.length;i++)n=this.areEqual(t[i],e[i]);return n}return isNaN(t)?t===e:+t==+e},t.isValidAttribute=function(t){return"stateNavigator"!==t&&"stateKey"!==t&&"navigationData"!==t&&"includeCurrentData"!==t&&"currentDataKeys"!==t&&"activeCssClass"!==t&&"disableActive"!==t&&"distance"!==t&&"historyAction"!==t&&"acrossCrumbs"!==t&&"navigating"!==t&&"navigationContext"!==t&&"children"!==t},t.getOnClick=function(t,e,a){return function(n){n.ctrlKey||n.shiftKey||n.metaKey||n.altKey||n.button||a&&(e.navigating&&!e.navigating(n,a)||(n.preventDefault(),t.navigateLink(a,e.historyAction)))}},t}(),p=function(t){return function(e){return a.createElement(r.Consumer,null,function(n){var i=n.stateNavigator,o=n.defaultValue;return a.createElement(t,c({stateNavigator:i,navigationContext:!o},e))})}},v=function(t){function e(e,a){var n=t.call(this,e,a)||this;return n.onNavigate=function(){var t=n.getComponentState();n.state.link!==t.link&&n.setState(t)},n.state=n.getComponentState(e),n.crumb=n.getStateNavigator().stateContext.crumbs.length,n}return n(e,t),e.prototype.getStateNavigator=function(){return this.context.stateNavigator||this.props.stateNavigator},e.prototype.componentDidMount=function(){this.props.navigationContext||this.getStateNavigator().onNavigate(this.onNavigate)},e.prototype.componentWillReceiveProps=function(t){this.setState(this.getComponentState(t))},e.prototype.componentWillUnmount=function(){this.props.navigationContext||this.getStateNavigator().offNavigate(this.onNavigate)},e.prototype.getComponentState=function(t){void 0===t&&(t=this.props);var e=this.getStateNavigator().stateContext.crumbs;return t.acrossCrumbs||void 0===this.crumb||this.crumb===e.length?{link:this.getNavigationBackLink(t)}:this.state},e.prototype.getNavigationBackLink=function(t){try{return this.getStateNavigator().getNavigationBackLink(t.distance)}catch(t){return null}},e.prototype.render=function(){var t={};for(var e in this.props)u.isValidAttribute(e)&&(t[e]=this.props[e]);return t.href=this.state.link&&this.getStateNavigator().historyManager.getHref(this.state.link),t.onClick=u.getOnClick(this.getStateNavigator(),this.props,this.state.link),a.createElement("a",c({},t),this.props.children)},e.contextTypes={stateNavigator:function(){return null}},e}(a.Component),h=p(v),l=function(t){function e(e,a){var n=t.call(this,e,a)||this;return n.onNavigate=function(){var t=n.state,e=t.link,a=t.active,i=n.getComponentState();e===i.link&&a===i.active||n.setState(i)},n.state=n.getComponentState(e),n.crumb=n.getStateNavigator().stateContext.crumbs.length,n}return n(e,t),e.prototype.getStateNavigator=function(){return this.context.stateNavigator||this.props.stateNavigator},e.prototype.componentDidMount=function(){this.props.navigationContext||this.getStateNavigator().onNavigate(this.onNavigate)},e.prototype.componentWillReceiveProps=function(t){this.setState(this.getComponentState(t))},e.prototype.componentWillUnmount=function(){this.props.navigationContext||this.getStateNavigator().offNavigate(this.onNavigate)},e.prototype.getComponentState=function(t){void 0===t&&(t=this.props);var e=this.getStateNavigator().stateContext,a=e.crumbs,n=e.state,i=t.acrossCrumbs,o=t.navigationData,r=t.stateKey;return i||void 0===this.crumb||this.crumb===a.length?{link:this.getNavigationLink(t),active:n&&n.key===r&&u.isActive(this.getStateNavigator(),o)}:this.state},e.prototype.getNavigationLink=function(t){var e=t.navigationData,a=t.includeCurrentData,n=t.currentDataKeys,e=u.getData(this.getStateNavigator(),e,a,n);try{return this.getStateNavigator().getNavigationLink(t.stateKey,e)}catch(t){return null}},e.prototype.render=function(){var t={};for(var e in this.props)u.isValidAttribute(e)&&(t[e]=this.props[e]);return t.href=this.state.link&&this.getStateNavigator().historyManager.getHref(this.state.link),t.onClick=u.getOnClick(this.getStateNavigator(),this.props,this.state.link),u.setActive(this.state.active,this.props,t),a.createElement("a",c({},t),this.props.children)},e.contextTypes={stateNavigator:function(){return null}},e}(a.Component),f=p(l),N=function(t){function e(e,a){var n=t.call(this,e,a)||this;return n.onNavigate=function(){var t=n.state,e=t.link,a=t.active,i=n.getComponentState();e===i.link&&a===i.active||n.setState(i)},n.state=n.getComponentState(e),n.crumb=n.getStateNavigator().stateContext.crumbs.length,n}return n(e,t),e.prototype.getStateNavigator=function(){return this.context.stateNavigator||this.props.stateNavigator},e.prototype.componentDidMount=function(){this.props.navigationContext||this.getStateNavigator().onNavigate(this.onNavigate)},e.prototype.componentWillReceiveProps=function(t){this.setState(this.getComponentState(t))},e.prototype.componentWillUnmount=function(){this.props.navigationContext||this.getStateNavigator().offNavigate(this.onNavigate)},e.prototype.getComponentState=function(t){void 0===t&&(t=this.props);var e=this.getStateNavigator().stateContext.crumbs,a=t.acrossCrumbs,n=t.navigationData;return a||void 0===this.crumb||this.crumb===e.length?{link:this.getRefreshLink(t),active:u.isActive(this.getStateNavigator(),n)}:this.state},e.prototype.getRefreshLink=function(t){var e=t.navigationData,a=t.includeCurrentData,n=t.currentDataKeys,e=u.getData(this.getStateNavigator(),e,a,n);try{return this.getStateNavigator().getRefreshLink(e)}catch(t){return null}},e.prototype.render=function(){var t={};for(var e in this.props)u.isValidAttribute(e)&&(t[e]=this.props[e]);return t.href=this.state.link&&this.getStateNavigator().historyManager.getHref(this.state.link),t.onClick=u.getOnClick(this.getStateNavigator(),this.props,this.state.link),u.setActive(this.state.active,this.props,t),a.createElement("a",c({},t),this.props.children)},e.contextTypes={stateNavigator:function(){return null}},e}(a.Component),m=p(N);t.NavigationContext=r,t.NavigationHandler=g,t.NavigationBackLink=h,t.NavigationLink=f,t.RefreshLink=m}(this.NavigationReact=this.NavigationReact||{},Navigation,React);